(function(){"use strict";var e={4469:function(e,t,s){var o=s(3751),n=s(641);function r(e,t){const s=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.Wv)(s)}var a=s(6262);const i={},l=(0,a.A)(i,[["render",r]]);var c=l,d=s(5220),u=s.p+"img/booknest-high-resolution-logo-transparent.0adab8d2.png";const h={class:"home"},m=(0,n.Lk)("div",{id:"logo"},[(0,n.Lk)("img",{src:u,height:"100",width:"400"})],-1);function k(e,t,s,o,r,a){const i=(0,n.g2)("LoginPage");return(0,n.uX)(),(0,n.CE)("div",h,[m,(0,n.bF)(i)])}var p=s(33);const g={class:"wrapper"},b={key:0,class:"success-message"},v=(0,n.Lk)("h2",null,"Login",-1),L={class:"input-box"},f={class:"input-box"},y=(0,n.Lk)("div",{class:"input-box button"},[(0,n.Lk)("input",{type:"submit",value:"Sign In"})],-1),A={key:0,class:"alert",style:{"text-align":"center"}},C=(0,n.Fv)('<div class="text"><h3 style="color:rgb(0, 92, 190);"> Don&#39;t have an account? <a href="/register" style="text-decoration:none;color:rgb(0, 92, 190);">Register now</a></h3></div><div class="text"><h2> To Login as Admin <a href="/admin-login" style="text-decoration:none;color:#fff;">Click Here</a></h2></div>',2);function w(e,t,s,r,a,i){return(0,n.uX)(),(0,n.CE)("div",g,[a.message?((0,n.uX)(),(0,n.CE)("div",b,(0,p.v_)(a.message),1)):(0,n.Q3)("",!0),v,(0,n.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>i.login&&i.login(...e)),["prevent"]))},[(0,n.Lk)("div",L,[(0,n.bo)((0,n.Lk)("input",{type:"text",placeholder:"Enter your username","onUpdate:modelValue":t[0]||(t[0]=e=>a.username=e),required:""},null,512),[[o.Jo,a.username]])]),(0,n.Lk)("div",f,[(0,n.bo)((0,n.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),required:""},null,512),[[o.Jo,a.password]])]),y,a.error?((0,n.uX)(),(0,n.CE)("p",A,(0,p.v_)(a.error),1)):(0,n.Q3)("",!0),C],32)])}s(4114);var q=s(4335),E={data(){return{username:"",password:"",message:null,error:null}},methods:{async login(){try{const e=await q.A.post("https://booknest-m2z6.onrender.com/api/users/login",{username:this.username,password:this.password},{withCredentials:!0});console.log(e.data),this.$router.push("/home")}catch(e){e.response?this.error=e.response.data.error:this.error="An error occurred"}}}};const B=(0,a.A)(E,[["render",w]]);var S=B,X={name:"LoginView",components:{LoginPage:S}};const R=(0,a.A)(X,[["render",k]]);var F=R;const _={class:"home"},U=(0,n.Lk)("div",{id:"logo"},[(0,n.Lk)("img",{src:u,height:"100",width:"400"})],-1);function x(e,t,s,o,r,a){const i=(0,n.g2)("RegisterPage");return(0,n.uX)(),(0,n.CE)("div",_,[U,(0,n.bF)(i)])}const D={class:"wrapper"},N=(0,n.Lk)("h2",null,"Registration",-1),V={class:"input-box"},Q={class:"input-box"},M={class:"input-box"},z=(0,n.Lk)("div",{class:"input-box button"},[(0,n.Lk)("input",{type:"submit",value:"Sign Up"})],-1),P={key:0,class:"alert",style:{"text-align":"center"}},W=(0,n.Fv)('<div class="text"><h3 style="color:rgb(0, 92, 190);"> Already have an account? <a href="/" style="text-decoration:none;color:rgb(0, 92, 190);">Login now</a></h3></div><div class="text"><h2> To Login as Admin <a href="/admin-login" style="text-decoration:none;color:#fff;">Click Here</a></h2></div>',2);function I(e,t,s,r,a,i){return(0,n.uX)(),(0,n.CE)("div",D,[N,(0,n.Lk)("form",{onSubmit:t[3]||(t[3]=(0,o.D$)(((...e)=>i.register&&i.register(...e)),["prevent"]))},[(0,n.Lk)("div",V,[(0,n.bo)((0,n.Lk)("input",{type:"text",placeholder:"Enter your username","onUpdate:modelValue":t[0]||(t[0]=e=>a.username=e),required:""},null,512),[[o.Jo,a.username]])]),(0,n.Lk)("div",Q,[(0,n.bo)((0,n.Lk)("input",{type:"text",placeholder:"Enter your email","onUpdate:modelValue":t[1]||(t[1]=e=>a.email=e),required:""},null,512),[[o.Jo,a.email]])]),(0,n.Lk)("div",M,[(0,n.bo)((0,n.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=e=>a.password=e),required:""},null,512),[[o.Jo,a.password]])]),z,a.error?((0,n.uX)(),(0,n.CE)("p",P,(0,p.v_)(a.error),1)):(0,n.Q3)("",!0),W],32)])}var T={name:"RegisterPage",data(){return{username:null,email:null,password:null,error:null}},methods:{async register(){if(!this.username||!this.email||!this.password)return this.error="Please add all the fields";try{const e=await q.A.post("https://booknest-m2z6.onrender.com/api/users/register",{username:this.username,email:this.email,password:this.password});console.log(e.data),this.$router.push({path:"/"})}catch(e){e.response?this.error=e.response.data.error:this.error="An error occurred"}}}};const J=(0,a.A)(T,[["render",I]]);var $=J,K={name:"RegisterView",components:{RegisterPage:$}};const j=(0,a.A)(K,[["render",x]]);var O=j;const H={class:"homeView"};function G(e,t,s,o,r,a){const i=(0,n.g2)("NavBar"),l=(0,n.g2)("SideBar"),c=(0,n.g2)("BookCard");return(0,n.uX)(),(0,n.CE)("div",H,[(0,n.bF)(i),(0,n.bF)(l),(0,n.bF)(c)])}var Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAIVBMVEVMaXH///////////////////////////////////////8c1D1MAAAACnRSTlMAvVWH7qDUcjAVik2z8AAAAAlwSFlzAAAD6AAAA+gBtXtSawAAApVJREFUeJztm9tywyAMRLkj+P8P7nBxaiakES5LmoZ9UXEm9VGQgK0bIba2tra2tv6krETI8wFcRMhuADE0BVLPlBsH8GKm7FsCkJVpoGR+J9kclNPlokYDaBljJKFMjDEISpdCHplEkQMWwKc7W0Gpg7UIJagUVLmo0AA63SWI9EEYcYT0irsFLAA1SdfgU6AjYAFEN+kyMUfAAqhe0nViasACiLwgHtmGGpqiBAP4XtLpV5lbbWIBQpM0ncJtfrAAwvaSvtSJFwGoZNsm3dYmFkDIJttTUcpjfsAA6odVaKgTL2/HrpN0DbUowQD+lC31ixILEE6daPtFiQUQNduaey3KU0NKNADN6cRfnAllL+nSlwOd+AsAFaOlHKRKRWnSyJeRjUYH+KnYl1vo/FmHMgrlvsTeDC4AmKna3vAd3bFVw8o92n9JLvGG8vHuZN8SgHTHnK4D0NWcurM5XQngm2MH6/QxGcD2zOlKAOrtwCsBxL0PkGsB1Kgjn74OuM5ZeCmAL0mfXOnPnTgdINybU792KbbfR2KOD5gPQGM+ALAZyZ45XQmgmlXoWScitmMz4sgRAP7OnJqwFCDEjjldCSDuO9GtBaCBTsScCWVjTmtRrgRQxYfezGm2qisA7HGkrz9Ifx499AXzAC5qA+h5U2Au/RHgX1mzYW0A+e+mQD135EgA4jhyKEAcezIHM6d8gcwpXyBzyhfKnLKFMqdsYcxp5HcizJxyBTKn5pUAaqgTEZuRG+lEoDnlCWJOzcA7keaUJaQ5ZQlqTjmCmdPI7ETQmdCwOxEE4NkPiEEA4UUrobnmDR+87x2fnH42gIJo5D8wtz5YSqP1ZF21kAYcaEb78QAe8v2ai9+12dra2tr6DH0Bl596n+Miw94AAAAASUVORK5CYII=";const Z={class:"sidebar"},ee=(0,n.Lk)("div",{class:"sidebar-header"},[(0,n.Lk)("img",{src:Y,height:"50px",width:"50px"})],-1),te={class:"sidebar-links"},se=(0,n.Fv)('<h4><span> Main Menu </span><div class="menu-seprator"></div></h4><li><a href="/home"><span class="material-symbols-outlined"> Dashboard </span> All Books </a></li><li><a href="/sections"><span class="material-symbols-outlined"> Menu </span> Sections </a></li><h4><span> General </span><div class="menu-seprator"></div></h4><li><a href="/my-books"><span class="material-symbols-outlined"> Book </span> My Books </a></li><li><a href="/user-requests"><span class="material-symbols-outlined"> Label </span> My Requests </a></li><h4><span> Account </span><div class="menu-seprator"></div></h4><li><a href="/user-details"><span class="material-symbols-outlined"> Person </span> Profile </a></li>',8),oe=(0,n.Lk)("span",{class:"material-symbols-outlined"}," Logout ",-1);function ne(e,t,s,r,a,i){return(0,n.uX)(),(0,n.CE)("div",Z,[ee,(0,n.Lk)("ul",te,[se,(0,n.Lk)("li",null,[(0,n.Lk)("a",{onClick:t[0]||(t[0]=(0,o.D$)(((...e)=>i.logout&&i.logout(...e)),["prevent"]))},[oe,(0,n.eW)(" Logout ")])])])])}var re={name:"SideBar",methods:{async logout(){try{const e=await q.A.post("https://booknest-m2z6.onrender.com/api/users/logout",{},{withCredentials:!0});e.data.logout&&this.$router.push("/")}catch(e){console.error("An error occurred during logout:",e)}}}};const ae=(0,a.A)(re,[["render",ne]]);var ie=ae;const le={class:"container"},ce=(0,n.Lk)("h1",null,[(0,n.Lk)("a",{href:"/home"},"BookNest")],-1),de={class:"search-box"},ue=(0,n.Lk)("option",{value:"",disabled:"",selected:""},"Search by",-1),he=(0,n.Lk)("option",{value:"author"},"Author",-1),me=(0,n.Lk)("option",{value:"section"},"Section",-1),ke=(0,n.Lk)("option",{value:"title"},"Title",-1),pe=[ue,he,me,ke],ge=(0,n.Lk)("input",{id:"button",type:"submit",value:"Search"},null,-1);function be(e,t,s,r,a,i){return(0,n.uX)(),(0,n.CE)("div",le,[(0,n.Lk)("nav",null,[ce,(0,n.Lk)("div",de,[(0,n.Lk)("form",{class:"search",onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>i.searchBooks&&i.searchBooks(...e)),["prevent"]))},[(0,n.bo)((0,n.Lk)("select",{class:"search-input","onUpdate:modelValue":t[0]||(t[0]=e=>a.searchType=e),required:""},pe,512),[[o.u1,a.searchType]]),(0,n.bo)((0,n.Lk)("input",{id:"search-input",type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>a.searchQuery=e),placeholder:"Search favorite books",required:""},null,512),[[o.Jo,a.searchQuery]]),ge],32)])])])}var ve={name:"NavBar",data(){return{searchType:"",searchQuery:""}},methods:{searchBooks(){const e={};e[this.searchType]=this.searchQuery,this.$router.push({path:"/search-results",query:e})}}};const Le=(0,a.A)(ve,[["render",be]]);var fe=Le;const ye={key:0,class:"error"},Ae={key:1},Ce={key:0,class:"book-section-block"},we=(0,n.Lk)("h2",{style:{color:"#fff"}},"My Books",-1),qe={class:"book-section"},Ee=(0,n.Lk)("div",{class:"img"},"img",-1),Be={class:"book-detail"};function Se(e,t,s,o,r,a){const i=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",null,[r.error?((0,n.uX)(),(0,n.CE)("h4",ye,(0,p.v_)(r.error),1)):(0,n.Q3)("",!0),r.books.length?((0,n.uX)(),(0,n.CE)("div",Ae,[r.books?((0,n.uX)(),(0,n.CE)("div",Ce,[we,(0,n.Lk)("div",qe,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.books,(e=>((0,n.uX)(),(0,n.CE)("div",{class:"books",key:e.id},[Ee,(0,n.Lk)("div",Be,[(0,n.Lk)("h3",null,"Title : "+(0,p.v_)(e.title),1),(0,n.Lk)("h3",null,"Author : "+(0,p.v_)(e.author),1),(0,n.Lk)("button",null,[(0,n.bF)(i,{to:{name:"bookDetails",params:{id:e.id}}},{default:(0,n.k6)((()=>[(0,n.eW)("More Info")])),_:2},1032,["to"])])])])))),128))])])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)])}var Xe={name:"BookCard",data(){return{books:[],message:null,error:null,msg:null}},created(){this.fetchBooks()},methods:{async fetchBooks(){try{const e=await q.A.get("https://booknest-m2z6.onrender.com/api/books/request-status-accepted",{withCredentials:!0});console.log(e.data),this.books=e.data.res,this.message=e.data.message,this.msg=e.data.msg}catch(e){e.response?(console.log(e.response.data.msg),this.error=e.response.data.msg):this.error="An error occurred while fetching books"}}}};const Re=(0,a.A)(Xe,[["render",Se]]);var Fe=Re,_e={name:"MyBooks",components:{SideBar:ie,NavBar:fe,BookCard:Fe}};const Ue=(0,a.A)(_e,[["render",G]]);var xe=Ue;const De={key:0,class:"book-details-block"},Ne={class:"book"},Ve=(0,n.Lk)("div",{id:"book-image"},"img",-1),Qe={class:"book-details"},Me={key:0},ze={key:1},Pe={key:2},We={class:"rating"},Ie=(0,n.Lk)("div",{class:"desc"},[(0,n.Lk)("h1",null,"Description"),(0,n.Lk)("p",null," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Reprehenderit ducimus, libero at labore expedita id, impedit, obcaecati animi rerum aliquid odit quo quis voluptatem. Nostrum sit, corrupti iste repellendus vitae aliquam deserunt amet quae! Nam ipsa vitae assumenda, eveniet earum nobis debitis ducimus asperiores numquam autem quaerat repellat cumque, vero facilis consequuntur recusandae natus deleniti accusantium tempora nostrum unde. Quisquam pariatur rerum impedit, in sunt aspernatur. Mollitia, reprehenderit? Sit non minima eius quas praesentium labore animi repudiandae deleniti laudantium unde ducimus in quasi explicabo soluta temporibus sunt nemo odio quibusdam architecto incidunt natus, consectetur possimus sed. Corrupti est consequatur dolor. ")],-1),Te={class:"ratings-section"},Je=(0,n.Lk)("h2",null,"Ratings and Reviews",-1),$e={key:0},Ke=(0,n.Lk)("strong",null,"User Id:",-1),je=(0,n.Lk)("strong",null,"Rating:",-1),Oe=(0,n.Lk)("strong",null,"Feedback:",-1),He={key:1},Ge=(0,n.Lk)("p",null,"Be the first one to rate this book.",-1),Ye=[Ge];function Ze(e,t,s,o,r,a){const i=(0,n.g2)("NavBar"),l=(0,n.g2)("SideBar"),c=(0,n.g2)("RatingForm");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(i),(0,n.bF)(l),r.book?((0,n.uX)(),(0,n.CE)("div",De,[(0,n.Lk)("div",Ne,[Ve,(0,n.Lk)("div",Qe,[(0,n.Lk)("h2",null,"Title : "+(0,p.v_)(r.book.title),1),(0,n.Lk)("h2",null,"Author : "+(0,p.v_)(r.book.author),1),(0,n.Lk)("h2",null,"Section : "+(0,p.v_)(r.book.section_id),1),r.rating?((0,n.uX)(),(0,n.CE)("h2",Me,"Average Rating : "+(0,p.v_)(r.rating),1)):(0,n.Q3)("",!0),r.msg?((0,n.uX)(),(0,n.CE)("h2",ze,"Average Rating : "+(0,p.v_)(r.msg),1)):(0,n.Q3)("",!0),r.count?((0,n.uX)(),(0,n.CE)("h2",Pe,"Reviews : "+(0,p.v_)(r.count),1)):(0,n.Q3)("",!0),(0,n.Lk)("div",We,[(0,n.Lk)("button",{type:"button",class:"button-6",onClick:t[0]||(t[0]=(...e)=>a.downloadBook&&a.downloadBook(...e))}," Download "),(0,n.Lk)("button",{type:"button",class:"button-6",onClick:t[1]||(t[1]=e=>r.showRatingForm=!0)}," Rate Now ")])])]),Ie,r.showRatingForm?((0,n.uX)(),(0,n.Wv)(c,{key:0,bookId:r.book.id,onRatingSubmitted:a.handleRatingSubmitted,onCancel:t[2]||(t[2]=e=>r.showRatingForm=!1)},null,8,["bookId","onRatingSubmitted"])):(0,n.Q3)("",!0),(0,n.Lk)("div",Te,[Je,r.ratings.length?((0,n.uX)(),(0,n.CE)("div",$e,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.ratings,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"rating-item"},[(0,n.Lk)("p",null,[Ke,(0,n.eW)(" "+(0,p.v_)(e.user_id),1)]),(0,n.Lk)("p",null,[je,(0,n.eW)(" "+(0,p.v_)(e.rating)+" / 5",1)]),(0,n.Lk)("p",null,[Oe,(0,n.eW)(" "+(0,p.v_)(e.feedback),1)])])))),128))])):((0,n.uX)(),(0,n.CE)("div",He,Ye))])])):(0,n.Q3)("",!0)])}const et={class:"rating-form"},tt=(0,n.Lk)("h3",null,"Rate this book",-1),st=(0,n.Lk)("label",{for:"rate"},"Rating (1 to 5):",-1),ot=(0,n.Lk)("label",{for:"feedback"},"Feedback:",-1),nt=(0,n.Lk)("button",{type:"submit",class:"button-6"},"Submit",-1);function rt(e,t,s,r,a,i){return(0,n.uX)(),(0,n.CE)("div",et,[tt,(0,n.Lk)("form",{onSubmit:t[3]||(t[3]=(0,o.D$)(((...e)=>i.submitRating&&i.submitRating(...e)),["prevent"]))},[(0,n.Lk)("div",null,[st,(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=e=>a.rate=e),min:"1",max:"5",required:""},null,512),[[o.Jo,a.rate]])]),(0,n.Lk)("div",null,[ot,(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.feedback=e),required:""},null,512),[[o.Jo,a.feedback]])]),nt,(0,n.Lk)("button",{type:"button",class:"button-6",onClick:t[2]||(t[2]=t=>e.$emit("cancel"))}," Cancel ")],32)])}var at={name:"RatingForm",props:["bookId"],data(){return{rate:null,feedback:"",error:null}},methods:{async submitRating(){try{const e=await q.A.post(`https://booknest-m2z6.onrender.com/api/ratings/${this.bookId}`,{rate:this.rate,feedback:this.feedback},{withCredentials:!0});this.$emit("rating-submitted",e.data)}catch(e){e.response?(this.error=e.response.data.msg,alert(this.error)):this.error="An error occurred while submitting your rating"}}}};const it=(0,a.A)(at,[["render",rt]]);var lt=it,ct={name:"BookDetails",props:["id"],data(){return{book:null,error:null,msg:null,rating:null,count:null,ratings:[],showRatingForm:!1}},components:{SideBar:ie,NavBar:fe,RatingForm:lt},created(){this.fetchBooks(),this.fetchRatings()},methods:{async fetchBooks(){try{const e=await q.A.get("https://booknest-m2z6.onrender.com/api/books/"+this.id,{withCredentials:!0}),t=await q.A.get("https://booknest-m2z6.onrender.com/api/ratings/average/"+this.id,{withCredentials:!0});console.log(e.data),console.log(t.data),this.book=await e.data.res,this.rating=await t.data.rating,this.count=await t.data.ratingCount,this.msg=await t.data.msg}catch(e){e.response?(console.log(e.response.data),this.msg=e.response.data.msg):this.error="An error occurred while fetching books"}},async fetchRatings(){try{const e=await q.A.get("https://booknest-m2z6.onrender.com/api/ratings/"+this.id,{withCredentials:!0});this.ratings=await e.data.res}catch(e){e.response?(console.log(e.response.data),this.error=e.response.data.msg):this.error="An error occurred while fetching ratings"}},downloadBook(){const e=`https://booknest-m2z6.onrender.com/api/books/download/${this.book.ebook_url}`;window.open(e)},handleRatingSubmitted(e){console.log("Rating Submitted:",e),this.showRatingForm=!1,this.fetchBooks(),this.fetchRatings()}}};const dt=(0,a.A)(ct,[["render",Ze]]);var ut=dt;const ht={class:"homeView"};function mt(e,t,s,o,r,a){const i=(0,n.g2)("NavBar"),l=(0,n.g2)("SideBar"),c=(0,n.g2)("UserRequests",!0);return(0,n.uX)(),(0,n.CE)("div",ht,[(0,n.bF)(i),(0,n.bF)(l),(0,n.bF)(c)])}const kt={key:0,class:"error"},pt=(0,n.Lk)("a",{href:"/"}," login ",-1),gt={key:1,class:"error"},bt={key:2},vt={key:0,class:"requests-list-block"},Lt=(0,n.Lk)("h2",null,"Your Book Requests",-1),ft=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Request ID"),(0,n.Lk)("th",null,"Name"),(0,n.Lk)("th",null,"Book ID"),(0,n.Lk)("th",null,"Status")])],-1),yt={key:1};function At(e,t,s,o,r,a){return(0,n.uX)(),(0,n.CE)("div",null,[r.err?((0,n.uX)(),(0,n.CE)("h4",kt,[(0,n.eW)("Please "),pt,(0,n.eW)(" to Continue")])):(0,n.Q3)("",!0),r.error?((0,n.uX)(),(0,n.CE)("h4",gt,(0,p.v_)(r.error),1)):(0,n.Q3)("",!0),r.requests.length?((0,n.uX)(),(0,n.CE)("div",bt,[r.requests.length?((0,n.uX)(),(0,n.CE)("div",vt,[Lt,(0,n.Lk)("table",null,[ft,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.requests,(e=>((0,n.uX)(),(0,n.CE)("tbody",{key:e.id},[(0,n.Lk)("td",null,(0,p.v_)(e.id),1),(0,n.Lk)("td",null,(0,p.v_)(e.username),1),(0,n.Lk)("td",null,(0,p.v_)(e.book_id),1),(0,n.Lk)("td",null,(0,p.v_)(e.status),1)])))),128))])])):((0,n.uX)(),(0,n.CE)("h4",yt,"No requests found"))])):(0,n.Q3)("",!0)])}var Ct={name:"UserRequests",data(){return{requests:[],error:null,err:null}},created(){this.fetchUserRequests()},methods:{async fetchUserRequests(){try{const e=await q.A.get("https://booknest-m2z6.onrender.com/api/requests/user",{withCredentials:!0});this.requests=e.data.res}catch(e){e.response?(this.err=e.response.data.msg,this.error=e.response.data.error):this.error="An error occurred while fetching requests"}}}};const wt=(0,a.A)(Ct,[["render",At]]);var qt=wt,Et={components:{SideBar:ie,NavBar:fe,UserRequests:qt}};const Bt=(0,a.A)(Et,[["render",mt]]);var St=Bt;const Xt={class:"home"},Rt=(0,n.Lk)("div",{id:"logo"},[(0,n.Lk)("img",{src:u,height:"100",width:"400"})],-1);function Ft(e,t,s,o,r,a){const i=(0,n.g2)("AdminLogin");return(0,n.uX)(),(0,n.CE)("div",Xt,[Rt,(0,n.bF)(i)])}const _t={class:"wrapper"},Ut={key:0,class:"success-message"},xt=(0,n.Lk)("h2",null,"Admin Login",-1),Dt={class:"input-box"},Nt={class:"input-box"},Vt=(0,n.Lk)("div",{class:"input-box button"},[(0,n.Lk)("input",{type:"submit",value:"Sign In"})],-1),Qt={key:0,class:"alert",style:{"text-align":"center"}},Mt=(0,n.Lk)("div",{class:"text"},[(0,n.Lk)("h3",{style:{color:"rgb(0, 92, 190)"}},[(0,n.eW)(" To Login as User "),(0,n.Lk)("a",{href:"/",style:{"text-decoration":"none",color:"rgb(0, 92, 190)"}},"click here")])],-1);function zt(e,t,s,r,a,i){return(0,n.uX)(),(0,n.CE)("div",_t,[a.message?((0,n.uX)(),(0,n.CE)("div",Ut,(0,p.v_)(a.message),1)):(0,n.Q3)("",!0),xt,(0,n.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>i.login&&i.login(...e)),["prevent"]))},[(0,n.Lk)("div",Dt,[(0,n.bo)((0,n.Lk)("input",{type:"text",placeholder:"Enter admin username","onUpdate:modelValue":t[0]||(t[0]=e=>a.username=e),required:""},null,512),[[o.Jo,a.username]])]),(0,n.Lk)("div",Nt,[(0,n.bo)((0,n.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),required:""},null,512),[[o.Jo,a.password]])]),Vt,a.error?((0,n.uX)(),(0,n.CE)("p",Qt,(0,p.v_)(a.error),1)):(0,n.Q3)("",!0),Mt],32)])}var Pt={data(){return{username:"",password:"",message:null,error:null}},methods:{async login(){try{const e=await q.A.post("https://booknest-m2z6.onrender.com/api/users/admin-login",{username:this.username,password:this.password},{withCredentials:!0});console.log(e.data),this.$router.push("/admin-home")}catch(e){e.response?this.error=e.response.data.error:this.error="An error occurred"}}}};const Wt=(0,a.A)(Pt,[["render",zt]]);var It=Wt,Tt={name:"AdminView",components:{AdminLogin:It}};const Jt=(0,a.A)(Tt,[["render",Ft]]);var $t=Jt;const Kt={class:"homeView"};function jt(e,t,s,o,r,a){const i=(0,n.g2)("AdminNav"),l=(0,n.g2)("AdminSideBar"),c=(0,n.g2)("AdminDash");return(0,n.uX)(),(0,n.CE)("div",Kt,[(0,n.bF)(i),(0,n.bF)(l),(0,n.bF)(c)])}const Ot={class:"sidebar"},Ht=(0,n.Lk)("div",{class:"sidebar-header"},[(0,n.Lk)("img",{src:Y,height:"50px",width:"50px"})],-1),Gt={class:"sidebar-links"},Yt=(0,n.Fv)('<h4><span> Main Menu </span><div class="menu-seprator"></div></h4><li><a href="/admin-home"><span class="material-symbols-outlined"> Dashboard </span> Dashboard </a></li><li><a href="/admin/books"><span class="material-symbols-outlined"> Book </span> All books </a></li><li><a href="/admin/sections"><span class="material-symbols-outlined"> Menu </span> Sections </a></li><li><a href="/admin/pending-requests"><span class="material-symbols-outlined"> Label </span> Pending Requests </a></li><li><a href="/admin/accepted-requests"><span class="material-symbols-outlined"> Task </span> Requests Granted </a></li><h4><span> Library </span><div class="menu-seprator"></div></h4><li><a href="/add-book"><span class="material-symbols-outlined"> Edit </span> Add Books </a></li><li><a href="/add-section"><span class="material-symbols-outlined"> Add </span> Add Sections </a></li><h4><span> Account </span><div class="menu-seprator"></div></h4>',10),Zt=(0,n.Lk)("span",{class:"material-symbols-outlined"}," Logout ",-1);function es(e,t,s,r,a,i){return(0,n.uX)(),(0,n.CE)("div",Ot,[Ht,(0,n.Lk)("ul",Gt,[Yt,(0,n.Lk)("li",null,[(0,n.Lk)("a",{onClick:t[0]||(t[0]=(0,o.D$)(((...e)=>i.logout&&i.logout(...e)),["prevent"]))},[Zt,(0,n.eW)(" Logout ")])])])])}var ts={name:"SideBar",methods:{async logout(){try{const e=await q.A.post("https://booknest-m2z6.onrender.com/api/users/logout",{},{withCredentials:!0});e.data.logout&&this.$router.push("/")}catch(e){console.error("An error occurred during logout:",e)}}}};const ss=(0,a.A)(ts,[["render",es]]);var os=ss;const ns={class:"container"},rs=(0,n.Lk)("nav",null,[(0,n.Lk)("h1",null,[(0,n.Lk)("a",{href:"/admin-home"},"BookNest")])],-1),as=[rs];function is(e,t,s,o,r,a){return(0,n.uX)(),(0,n.CE)("div",ns,as)}var ls={name:"AdminNav"};const cs=(0,a.A)(ls,[["render",is]]);var ds=cs;const us={key:0,class:"error"},hs=(0,n.Lk)("a",{href:"/"}," Login ",-1),ms={key:1,class:"dashboard"},ks=(0,n.Lk)("h1",null,"Dashboard",-1),ps={class:"cards"},gs={class:"card"},bs=(0,n.Lk)("h3",null,"Total Books",-1),vs={class:"card"},Ls=(0,n.Lk)("h3",null,"Total Users",-1),fs={class:"card"},ys=(0,n.Lk)("h3",null,"Total Sections",-1),As={class:"card"},Cs=(0,n.Lk)("h3",null,"Total Requests",-1),ws={class:"card"},qs=(0,n.Lk)("h3",null,"Pending Requests",-1),Es={class:"card"},Bs=(0,n.Lk)("h3",null,"Accepted Requests",-1),Ss={class:"card"},Xs=(0,n.Lk)("h3",null,"Rejected Requests",-1),Rs={class:"card"},Fs=(0,n.Lk)("h3",null,"Revoked Requests",-1),_s=(0,n.Lk)("div",{class:"charts"},[(0,n.Lk)("div",{id:"booksBySectionChart"}),(0,n.Lk)("div",{id:"mostRatedBooksChart"})],-1);function Us(e,t,s,o,r,a){return(0,n.uX)(),(0,n.CE)("div",null,[r.error?((0,n.uX)(),(0,n.CE)("h4",us,[(0,n.eW)((0,p.v_)(r.error)+" Please ",1),hs,(0,n.eW)(" as Admin to Continue ")])):((0,n.uX)(),(0,n.CE)("div",ms,[ks,(0,n.Lk)("div",ps,[(0,n.Lk)("div",gs,[bs,(0,n.Lk)("p",null,(0,p.v_)(r.stats.total_books),1)]),(0,n.Lk)("div",vs,[Ls,(0,n.Lk)("p",null,(0,p.v_)(r.stats.total_users),1)]),(0,n.Lk)("div",fs,[ys,(0,n.Lk)("p",null,(0,p.v_)(r.stats.total_sections),1)]),(0,n.Lk)("div",As,[Cs,(0,n.Lk)("p",null,(0,p.v_)(r.stats.total_requests),1)]),(0,n.Lk)("div",ws,[qs,(0,n.Lk)("p",null,(0,p.v_)(r.stats.pending_requests),1)]),(0,n.Lk)("div",Es,[Bs,(0,n.Lk)("p",null,(0,p.v_)(r.stats.accepted_requests),1)]),(0,n.Lk)("div",Ss,[Xs,(0,n.Lk)("p",null,(0,p.v_)(r.stats.rejected_requests),1)]),(0,n.Lk)("div",Rs,[Fs,(0,n.Lk)("p",null,(0,p.v_)(r.stats.rejected_requests),1)])]),_s]))])}var xs=s(9737),Ds=s.n(xs),Ns={name:"AdminDash",data(){return{stats:{},booksBySection:{labels:[],counts:[]},mostRatedBooks:{titles:[],counts:[]},error:null}},created(){this.fetchStats(),this.fetchBooksBySection(),this.fetchMostRatedBooks()},methods:{async fetchStats(){try{const e=await q.A.get("https://booknest-m2z6.onrender.com/api/books/stats",{withCredentials:!0});this.stats=e.data}catch(e){this.error=e.response.data.msg,console.error("Error fetching stats:",e.response)}},async fetchBooksBySection(){try{const e=await q.A.get("https://booknest-m2z6.onrender.com/api/books/section_counts",{withCredentials:!0});this.booksBySection=e.data.res,this.plotBooksBySection()}catch(e){console.error("Error fetching books by section:",e.response)}},async fetchMostRatedBooks(){try{const e=await q.A.get("https://booknest-m2z6.onrender.com/api/books/most_rated",{withCredentials:!0});this.mostRatedBooks=e.data.res,this.plotMostRatedBooks()}catch(e){console.error("Error fetching most-rated books:",e.response)}},plotBooksBySection(){const e=[{type:"pie",values:this.booksBySection.counts,labels:this.booksBySection.labels,textinfo:"label+percent",textposition:"outside",automargin:!0}],t={title:"Books by Section",height:400,width:500};Ds().newPlot("booksBySectionChart",e,t)},plotMostRatedBooks(){const e=[{type:"bar",x:this.mostRatedBooks.titles,y:this.mostRatedBooks.counts,marker:{color:"rgb(0, 65, 134)"}}],t={title:"Most Rated Books",height:400,width:500};Ds().newPlot("mostRatedBooksChart",e,t)}}};const Vs=(0,a.A)(Ns,[["render",Us]]);var Qs=Vs,Ms={name:"AdminHome",components:{AdminNav:ds,AdminSideBar:os,AdminDash:Qs}};const zs=(0,a.A)(Ms,[["render",jt]]);var Ps=zs;const Ws={class:"homeView"};function Is(e,t,s,o,r,a){const i=(0,n.g2)("AdminNav"),l=(0,n.g2)("AdminSideBar"),c=(0,n.g2)("SectionComponent");return(0,n.uX)(),(0,n.CE)("div",Ws,[(0,n.bF)(i),(0,n.bF)(l),(0,n.bF)(c)])}const Ts={class:"sections-container"},Js={key:0,class:"error"},$s=(0,n.Lk)("a",{href:"/"}," Login ",-1),Ks={key:1,class:"delete-section"},js={key:2,class:"error"},Os={key:3},Hs=(0,n.Lk)("h2",{id:"heading"},"All Sections",-1),Gs={class:"sections"},Ys={class:"icon-block"},Zs=["onClick"],eo=(0,n.Lk)("span",{class:"material-symbols-outlined"}," Delete ",-1),to=[eo],so={class:"icon"},oo=(0,n.Lk)("span",{class:"material-symbols-outlined"}," Edit ",-1);function no(e,t,s,o,r,a){const i=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",Ts,[r.error?((0,n.uX)(),(0,n.CE)("h4",Js,[(0,n.eW)(" Please "),$s,(0,n.eW)(" as Admin to Continue ")])):(0,n.Q3)("",!0),r.message?((0,n.uX)(),(0,n.CE)("h4",Ks," Section Deleted Successfully ")):(0,n.Q3)("",!0),0==r.sections.length?((0,n.uX)(),(0,n.CE)("h4",js,"Loading...")):((0,n.uX)(),(0,n.CE)("div",Os,[Hs,(0,n.Lk)("div",Gs,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.sections,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"section-card"},[(0,n.Lk)("h3",null,(0,p.v_)(e.name),1),(0,n.Lk)("p",null,(0,p.v_)(e.description),1),(0,n.Lk)("div",Ys,[(0,n.Lk)("div",{class:"icon",onClick:t=>a.deleteSection(e.id)},to,8,Zs),(0,n.Lk)("div",so,[(0,n.bF)(i,{to:{name:"updateSection",params:{id:e.id}}},{default:(0,n.k6)((()=>[oo])),_:2},1032,["to"])])])])))),128))])]))])])}var ro={name:"SectionComponent",data(){return{sections:[],message:"",error:""}},created(){this.fetchSections()},methods:{async fetchSections(){try{const e=await q.A.get("https://booknest-m2z6.onrender.com/api/sections",{withCredentials:!0});this.sections=e.data.res}catch(e){this.error=e.response?e.response.data.msg:"An error occurred while fetching sections"}},async deleteSection(e){try{const t=await q.A.delete(`https://booknest-m2z6.onrender.com/api/sections/${e}`,{withCredentials:!0});this.message=t.data.message,this.fetchSections()}catch(t){this.error=t.response?t.response.data.error:"An error occurred while deleting the section"}}}};const ao=(0,a.A)(ro,[["render",no]]);var io=ao,lo={name:"SectionView",components:{AdminSideBar:os,AdminNav:ds,SectionComponent:io}};const co=(0,a.A)(lo,[["render",Is]]);var uo=co;const ho={class:"homeView"};function mo(e,t,s,o,r,a){const i=(0,n.g2)("AdminNav"),l=(0,n.g2)("AdminSideBar"),c=(0,n.g2)("CreateSection");return(0,n.uX)(),(0,n.CE)("div",ho,[(0,n.bF)(i),(0,n.bF)(l),(0,n.bF)(c)])}const ko={key:0,class:"error"},po=(0,n.Lk)("a",{href:"/"}," Login ",-1),go={key:1,class:"section-form"},bo=(0,n.Lk)("h2",null,"Create New Section",-1),vo={class:"form-group"},Lo=(0,n.Lk)("label",{for:"name"},"Section Name",-1),fo={class:"form-group"},yo=(0,n.Lk)("label",{for:"description"},"Description",-1),Ao=(0,n.Lk)("button",{type:"submit",class:"btn"},"Create Section",-1),Co={key:0,class:"message"},wo={key:1,class:"err"};function qo(e,t,s,r,a,i){return(0,n.uX)(),(0,n.CE)("div",null,[a.error?((0,n.uX)(),(0,n.CE)("h4",ko,[(0,n.eW)(" Please "),po,(0,n.eW)(" as Admin to Continue ")])):((0,n.uX)(),(0,n.CE)("div",go,[bo,(0,n.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>i.createSection&&i.createSection(...e)),["prevent"]))},[(0,n.Lk)("div",vo,[Lo,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>a.name=e),required:""},null,512),[[o.Jo,a.name]])]),(0,n.Lk)("div",fo,[yo,(0,n.bo)((0,n.Lk)("textarea",{id:"description","onUpdate:modelValue":t[1]||(t[1]=e=>a.description=e),required:""},null,512),[[o.Jo,a.description]])]),Ao],32),a.message?((0,n.uX)(),(0,n.CE)("div",Co,(0,p.v_)(a.message),1)):(0,n.Q3)("",!0),a.err?((0,n.uX)(),(0,n.CE)("div",wo,(0,p.v_)(a.err),1)):(0,n.Q3)("",!0)]))])}var Eo={name:"CreateSection",data(){return{name:"",description:"",message:"",error:"",err:""}},methods:{async createSection(){try{const e=await q.A.post("https://booknest-m2z6.onrender.com/api/sections/",{name:this.name,description:this.description},{withCredentials:!0});console.log(e),this.message=e.data.message,this.name="",this.description="",this.$router.push("/admin/sections")}catch(e){e.response?(console.log(e.response),this.error=e.response.data.msg,this.err=e.response.data.message,this.message=""):(this.error="An error occurred while creating the section",this.message="")}}}};const Bo=(0,a.A)(Eo,[["render",qo]]);var So=Bo,Xo={name:"AddSection",components:{AdminNav:ds,AdminSideBar:os,CreateSection:So}};const Ro=(0,a.A)(Xo,[["render",mo]]);var Fo=Ro;const _o={class:"homeView"};function Uo(e,t,s,o,r,a){const i=(0,n.g2)("AdminNav"),l=(0,n.g2)("AdminSideBar"),c=(0,n.g2)("UpdateSection",!0);return(0,n.uX)(),(0,n.CE)("div",_o,[(0,n.bF)(i),(0,n.bF)(l),(0,n.bF)(c,{id:s.id},null,8,["id"])])}const xo={key:0,class:"error"},Do=(0,n.Lk)("a",{href:"/"},"Login",-1),No={key:1,class:"section-form"},Vo=(0,n.Lk)("h2",null,"Update Section",-1),Qo={class:"form-group"},Mo=(0,n.Lk)("label",{for:"name"},"Section Name",-1),zo={class:"form-group"},Po=(0,n.Lk)("label",{for:"description"},"Description",-1),Wo=(0,n.Lk)("button",{type:"submit",class:"btn"},"Update Section",-1),Io={key:0,class:"message"};function To(e,t,s,r,a,i){return(0,n.uX)(),(0,n.CE)("div",null,[a.error?((0,n.uX)(),(0,n.CE)("h4",xo,[(0,n.eW)(" Please "),Do,(0,n.eW)(" to Continue ")])):((0,n.uX)(),(0,n.CE)("div",No,[Vo,(0,n.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>i.updateSection&&i.updateSection(...e)),["prevent"]))},[(0,n.Lk)("div",Qo,[Mo,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>a.name=e),required:""},null,512),[[o.Jo,a.name]])]),(0,n.Lk)("div",zo,[Po,(0,n.bo)((0,n.Lk)("textarea",{id:"description","onUpdate:modelValue":t[1]||(t[1]=e=>a.description=e),required:""},null,512),[[o.Jo,a.description]])]),Wo],32),a.message?((0,n.uX)(),(0,n.CE)("div",Io,(0,p.v_)(a.message),1)):(0,n.Q3)("",!0)]))])}var Jo={name:"UpdateSection",props:["id"],data(){return{section:"",name:"",description:"",message:"",error:""}},created(){console.log(this.id),this.getSection()},methods:{async getSection(){try{const e=await q.A.get(`https://booknest-m2z6.onrender.com/api/sections/${this.id}`,{withCredentials:!0});console.log(e.data),this.name=e.data.res.name,this.description=e.data.res.description}catch(e){e.response?(console.log(e.response),this.error=e.response.data.msg,this.message=""):(this.error="An error occurred while creating the section",this.message="")}},async updateSection(){try{const e=await q.A.put(`https://booknest-m2z6.onrender.com/api/sections/${this.id}`,{name:this.name,description:this.description},{withCredentials:!0});this.message=e.data.message,this.error="",this.name="",this.description="",this.$router.push("/admin/sections")}catch(e){e.response?(console.log(e.response),this.error=e.response.data.message,this.message=""):(this.error="An error occurred while creating the section",this.message="")}}}};const $o=(0,a.A)(Jo,[["render",To]]);var Ko=$o,jo={name:"SectionView",props:["id"],components:{AdminSideBar:os,AdminNav:ds,UpdateSection:Ko}};const Oo=(0,a.A)(jo,[["render",Uo]]);var Ho=Oo;const Go={class:"homeView"};function Yo(e,t,s,o,r,a){const i=(0,n.g2)("AdminNav"),l=(0,n.g2)("AdminSideBar"),c=(0,n.g2)("CreateBook");return(0,n.uX)(),(0,n.CE)("div",Go,[(0,n.bF)(i),(0,n.bF)(l),(0,n.bF)(c)])}const Zo={key:0,class:"error"},en=(0,n.Lk)("a",{href:"/"}," Login ",-1),tn={key:1,class:"section-form"},sn=(0,n.Lk)("h2",null,"Add a New Book",-1),on={class:"form-group"},nn=(0,n.Lk)("label",{for:"title"},"Title:",-1),rn={class:"form-group"},an=(0,n.Lk)("label",{for:"content"},"Content:",-1),ln={class:"form-group"},cn=(0,n.Lk)("label",{for:"author"},"Author:",-1),dn={class:"form-group"},un=(0,n.Lk)("label",{for:"file"},"Upload eBook:",-1),hn={class:"form-group"},mn=(0,n.Lk)("label",{for:"section"},"Section:",-1),kn=["value"],pn=(0,n.Lk)("button",{class:"btn",type:"submit"},"Add Book",-1),gn={key:0,class:"message"};function bn(e,t,s,r,a,i){return(0,n.uX)(),(0,n.CE)("div",null,[a.error?((0,n.uX)(),(0,n.CE)("h4",Zo,[(0,n.eW)(" Please "),en,(0,n.eW)(" as Admin to Continue ")])):((0,n.uX)(),(0,n.CE)("div",tn,[sn,(0,n.Lk)("form",{onSubmit:t[5]||(t[5]=(0,o.D$)(((...e)=>i.addBook&&i.addBook(...e)),["prevent"])),enctype:"multipart/form-data"},[(0,n.Lk)("div",on,[nn,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.book.title=e),required:""},null,512),[[o.Jo,a.book.title]])]),(0,n.Lk)("div",rn,[an,(0,n.bo)((0,n.Lk)("textarea",{id:"description","onUpdate:modelValue":t[1]||(t[1]=e=>a.book.content=e),required:""},null,512),[[o.Jo,a.book.content]])]),(0,n.Lk)("div",ln,[cn,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>a.book.author=e),required:""},null,512),[[o.Jo,a.book.author]])]),(0,n.Lk)("div",dn,[un,(0,n.Lk)("input",{type:"file",onChange:t[3]||(t[3]=(...e)=>i.handleFileUpload&&i.handleFileUpload(...e)),required:""},null,32)]),(0,n.Lk)("div",hn,[mn,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>a.book.section=e),required:""},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.sections,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.id,value:e.name},(0,p.v_)(e.name),9,kn)))),128))],512),[[o.u1,a.book.section]])]),pn],32),a.message?((0,n.uX)(),(0,n.CE)("div",gn,(0,p.v_)(a.message),1)):(0,n.Q3)("",!0)]))])}var vn={name:"CreateBook",data(){return{book:{title:"",content:"",author:"",section:""},file:null,sections:[],message:"",error:null}},created(){this.fetchSections()},methods:{async fetchSections(){try{const e=await q.A.get("https://booknest-m2z6.onrender.com/api/sections",{withCredentials:!0});this.sections=e.data.res}catch(e){this.error=e.response?e.response.data.msg:"An error occurred while fetching sections"}},handleFileUpload(e){this.file=e.target.files[0]},async addBook(){const e=new FormData;e.append("title",this.book.title),e.append("content",this.book.content),e.append("author",this.book.author),e.append("section",this.book.section),e.append("file",this.file);try{const t=await q.A.post("https://booknest-m2z6.onrender.com/api/books/",e,{withCredentials:!0});console.log(t.data),this.message=t.data.message,this.$router.push("/admin/books"),this.book={title:"",content:"",author:"",section:""},this.file=null}catch(t){console.log(t.response),this.error=t.response?t.response.data.error:"An error occurred while adding the book",this.message=""}}}};const Ln=(0,a.A)(vn,[["render",bn]]);var fn=Ln,yn={name:"AddBook",components:{AdminNav:ds,AdminSideBar:os,CreateBook:fn}};const An=(0,a.A)(yn,[["render",Yo]]);var Cn=An;const wn={class:"homeView"};function qn(e,t,s,o,r,a){const i=(0,n.g2)("AdminNav"),l=(0,n.g2)("AdminSideBar"),c=(0,n.g2)("ShowBooks");return(0,n.uX)(),(0,n.CE)("div",wn,[(0,n.bF)(i),(0,n.bF)(l),(0,n.bF)(c)])}const En={key:0,class:"error"},Bn=(0,n.Lk)("a",{href:"/"}," Login ",-1),Sn={key:1},Xn={key:0,class:"book-section-block"},Rn=(0,n.Lk)("h2",{style:{color:"#fff"}},"All Books",-1),Fn={class:"book-section"},_n=(0,n.Lk)("div",{class:"img"},"img",-1),Un={class:"book-detail"},xn={class:"icon-block"},Dn=["onClick"],Nn=(0,n.Lk)("span",{class:"material-symbols-outlined"}," Delete ",-1),Vn=[Nn],Qn={class:"icons"},Mn=(0,n.Lk)("span",{class:"material-symbols-outlined"}," Edit ",-1),zn={key:1,class:"error"},Pn=(0,n.Lk)("h4",null,"Loading...",-1),Wn=[Pn];function In(e,t,s,o,r,a){const i=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",null,[r.error?((0,n.uX)(),(0,n.CE)("h4",En,[(0,n.eW)(" Please "),Bn,(0,n.eW)(" as Admin to Continue ")])):(0,n.Q3)("",!0),r.books.length?((0,n.uX)(),(0,n.CE)("div",Sn,[r.books?((0,n.uX)(),(0,n.CE)("div",Xn,[Rn,(0,n.Lk)("div",Fn,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.books,(e=>((0,n.uX)(),(0,n.CE)("div",{class:"books",key:e.id},[_n,(0,n.Lk)("div",Un,[(0,n.Lk)("h3",null,"Title : "+(0,p.v_)(e.title),1),(0,n.Lk)("h3",null,"Author : "+(0,p.v_)(e.author),1),(0,n.Lk)("h3",null,"Section : "+(0,p.v_)(e.section_id),1),(0,n.Lk)("div",xn,[(0,n.Lk)("div",{class:"icons",onClick:t=>a.deleteBook(e.id)},Vn,8,Dn),(0,n.Lk)("div",Qn,[(0,n.bF)(i,{to:{name:"updateBook",params:{id:e.id}}},{default:(0,n.k6)((()=>[Mn])),_:2},1032,["to"])])])])])))),128))])])):((0,n.uX)(),(0,n.CE)("div",zn,Wn))])):(0,n.Q3)("",!0)])}var Tn={name:"ShowBooks",data(){return{books:[],message:null,error:null,msg:null}},created(){this.fetchBooks()},methods:{async fetchBooks(){try{const e=await q.A.get("https://booknest-m2z6.onrender.com/api/books/",{withCredentials:!0});console.log(e.data),this.books=e.data.res,this.message=e.data.message,this.msg=e.data.msg}catch(e){e.response?(console.log(e.response.data.msg),this.error=e.response.data.msg):this.error="An error occurred while fetching books"}},async deleteBook(e){try{const t=await q.A.delete(`https://booknest-m2z6.onrender.com/api/books/${e}`,{withCredentials:!0});this.message=t.data.message,this.fetchBooks()}catch(t){this.error=t.response?t.response.data.error:"An error occurred while deleting the book"}}}};const Jn=(0,a.A)(Tn,[["render",In]]);var $n=Jn,Kn={name:"AllBooks",components:{AdminSideBar:os,AdminNav:ds,ShowBooks:$n}};const jn=(0,a.A)(Kn,[["render",qn]]);var On=jn;const Hn={class:"homeView"};function Gn(e,t,s,o,r,a){const i=(0,n.g2)("AdminNav"),l=(0,n.g2)("AdminSideBar"),c=(0,n.g2)("EditBook");return(0,n.uX)(),(0,n.CE)("div",Hn,[(0,n.bF)(i),(0,n.bF)(l),(0,n.bF)(c,{id:s.id},null,8,["id"])])}const Yn={key:0,class:"error"},Zn=(0,n.Lk)("a",{href:"/"},"Login",-1),er={key:1,class:"section-form"},tr=(0,n.Lk)("h2",null,"Update Book",-1),sr={class:"form-group"},or=(0,n.Lk)("label",{for:"title"},"Title:",-1),nr={class:"form-group"},rr=(0,n.Lk)("label",{for:"content"},"Content:",-1),ar={class:"form-group"},ir=(0,n.Lk)("label",{for:"author"},"Author:",-1),lr={class:"form-group"},cr=(0,n.Lk)("label",{for:"section"},"Section:",-1),dr=["value"],ur=(0,n.Lk)("button",{class:"btn",type:"submit"},"Update Book",-1),hr={key:0,class:"message"};function mr(e,t,s,r,a,i){return(0,n.uX)(),(0,n.CE)("div",null,[a.error?((0,n.uX)(),(0,n.CE)("h4",Yn,[(0,n.eW)(" Please "),Zn,(0,n.eW)(" to Continue ")])):((0,n.uX)(),(0,n.CE)("div",er,[tr,(0,n.Lk)("form",{onSubmit:t[4]||(t[4]=(0,o.D$)(((...e)=>i.updateBook&&i.updateBook(...e)),["prevent"]))},[(0,n.Lk)("div",sr,[or,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.book.title=e),required:""},null,512),[[o.Jo,a.book.title]])]),(0,n.Lk)("div",nr,[rr,(0,n.bo)((0,n.Lk)("textarea",{id:"description","onUpdate:modelValue":t[1]||(t[1]=e=>a.book.content=e),required:""},null,512),[[o.Jo,a.book.content]])]),(0,n.Lk)("div",ar,[ir,(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>a.book.author=e),required:""},null,512),[[o.Jo,a.book.author]])]),(0,n.Lk)("div",lr,[cr,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>a.book.section=e),required:""},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.sections,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.id,value:e.name},(0,p.v_)(e.name),9,dr)))),128))],512),[[o.u1,a.book.section]])]),ur],32),a.message?((0,n.uX)(),(0,n.CE)("div",hr,(0,p.v_)(a.message),1)):(0,n.Q3)("",!0)]))])}var kr={name:"EditBook",props:["id"],data(){return{book:{title:"",content:"",author:"",section:""},sections:[],message:"",error:""}},created(){this.fetchSections(),this.getBook()},methods:{async fetchSections(){try{const e=await q.A.get("https://booknest-m2z6.onrender.com/api/sections",{withCredentials:!0});this.sections=e.data.res}catch(e){this.error=e.response?e.response.data.msg:"An error occurred while fetching sections"}},async getBook(){try{const e=await q.A.get(`https://booknest-m2z6.onrender.com/api/books/${this.id}`,{withCredentials:!0});this.message=e.data.message,this.book={title:e.data.res.title,content:e.data.res.content,author:e.data.res.author,section:e.data.res.section}}catch(e){console.log(e.response.data),this.message=e.response.data.message}},async updateBook(){try{const e=await q.A.put(`https://booknest-m2z6.onrender.com/api/books/${this.id}`,{title:this.book.title,content:this.book.content,author:this.book.author,section:this.book.section},{withCredentials:!0});this.message=e.data.message,this.book={title:"",content:"",author:"",section:""},this.$router.push("/admin/books")}catch(e){console.log(e.response.data),this.message=e.response.data.message}}}};const pr=(0,a.A)(kr,[["render",mr]]);var gr=pr,br={name:"UpdateBook",props:["id"],components:{AdminSideBar:os,AdminNav:ds,EditBook:gr}};const vr=(0,a.A)(br,[["render",Gn]]);var Lr=vr;const fr={class:"homeView"};function yr(e,t,s,o,r,a){const i=(0,n.g2)("AdminNav"),l=(0,n.g2)("AdminSideBar"),c=(0,n.g2)("PendingRequests");return(0,n.uX)(),(0,n.CE)("div",fr,[(0,n.bF)(i),(0,n.bF)(l),(0,n.bF)(c)])}const Ar={key:0,class:"error"},Cr=(0,n.Lk)("a",{href:"/"}," Login ",-1),wr={key:1},qr={key:0,class:"requests-list-block"},Er={id:"status"},Br=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Request ID"),(0,n.Lk)("th",null,"Name"),(0,n.Lk)("th",null,"Book ID"),(0,n.Lk)("th",null,"Status")])],-1),Sr=["onClick"],Xr=["onClick"],Rr={key:1},Fr={key:2,class:"error"},_r={key:0},Ur={key:1};function xr(e,t,s,o,r,a){return(0,n.uX)(),(0,n.CE)("div",null,[r.error?((0,n.uX)(),(0,n.CE)("h4",Ar,[(0,n.eW)(" Please "),Cr,(0,n.eW)(" as Admin to Continue ")])):(0,n.Q3)("",!0),r.requests.length?((0,n.uX)(),(0,n.CE)("div",wr,[r.requests.length?((0,n.uX)(),(0,n.CE)("div",qr,[(0,n.Lk)("h2",null,(0,p.v_)(r.message),1),(0,n.Lk)("p",Er,(0,p.v_)(r.status),1),(0,n.Lk)("table",null,[Br,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.requests,(e=>((0,n.uX)(),(0,n.CE)("tbody",{key:e.id},[(0,n.Lk)("td",null,(0,p.v_)(e.id),1),(0,n.Lk)("td",null,(0,p.v_)(e.username),1),(0,n.Lk)("td",null,(0,p.v_)(e.book_id),1),(0,n.Lk)("td",null,(0,p.v_)(e.status),1),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn",onClick:t=>a.updateRequest(e.id,"approve")}," Accept ",8,Sr)]),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn",onClick:t=>a.updateRequest(e.id,"reject")}," Reject ",8,Xr)])])))),128))])])):((0,n.uX)(),(0,n.CE)("h4",Rr,"No requests found"))])):((0,n.uX)(),(0,n.CE)("div",Fr,[r.msg?((0,n.uX)(),(0,n.CE)("h4",_r,"No pending requests")):((0,n.uX)(),(0,n.CE)("h4",Ur,"Loading..."))]))])}var Dr={name:"PendingRequests",data(){return{requests:[],error:null,message:"",status:"",msg:""}},created(){this.fetchPendingRequests()},methods:{async fetchPendingRequests(){try{const e=await q.A.get("https://booknest-m2z6.onrender.com/api/requests/get-pending-requests",{withCredentials:!0});this.requests=e.data.res,this.message=e.data.message}catch(e){e.response?"No pending requests"===e.response.data.msg?this.msg=e.response.data.msg:this.error=e.response.data.msg:this.error="An error occurred while fetching requests"}},async updateRequest(e,t){try{const s=await q.A.put(`https://booknest-m2z6.onrender.com/api/requests/update/${e}`,{action:t},{withCredentials:!0});this.status=s.data.message,this.fetchPendingRequests()}catch(s){s.response?this.error=s.response.data.error:this.error="An error occurred while updating the request"}}}};const Nr=(0,a.A)(Dr,[["render",xr]]);var Vr=Nr,Qr={name:"AdminRequests",components:{AdminNav:ds,AdminSideBar:os,PendingRequests:Vr}};const Mr=(0,a.A)(Qr,[["render",yr]]);var zr=Mr;const Pr={class:"homeView"};function Wr(e,t,s,o,r,a){const i=(0,n.g2)("NavBar"),l=(0,n.g2)("SideBar"),c=(0,n.g2)("HomeCard");return(0,n.uX)(),(0,n.CE)("div",Pr,[(0,n.bF)(i),(0,n.bF)(l),(0,n.bF)(c)])}const Ir={key:0,class:"error"},Tr=(0,n.Lk)("a",{href:"/"}," Login ",-1),Jr={key:1},$r={key:0,class:"book-section-block"},Kr=(0,n.Lk)("h2",{style:{color:"#fff"}},"All Books",-1),jr={class:"book-section"},Or=(0,n.Lk)("div",{class:"img"},"img",-1),Hr={class:"book-detail"},Gr=["onClick"];function Yr(e,t,s,o,r,a){return(0,n.uX)(),(0,n.CE)("div",null,[r.error?((0,n.uX)(),(0,n.CE)("h4",Ir,[(0,n.eW)((0,p.v_)(r.error)+" ",1),Tr,(0,n.eW)(" to Continue ")])):(0,n.Q3)("",!0),r.books.length?((0,n.uX)(),(0,n.CE)("div",Jr,[r.books?((0,n.uX)(),(0,n.CE)("div",$r,[Kr,(0,n.Lk)("div",jr,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.books,(e=>((0,n.uX)(),(0,n.CE)("div",{class:"books",key:e.id},[Or,(0,n.Lk)("div",Hr,[(0,n.Lk)("h3",null,"Title : "+(0,p.v_)(e.title),1),(0,n.Lk)("h3",null,"Author : "+(0,p.v_)(e.author),1),(0,n.Lk)("button",{type:"button",class:"button-6",onClick:t=>a.requestBook(e.id)}," Request ",8,Gr)])])))),128))])])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)])}var Zr={name:"HomeCard",data(){return{books:[],message:null,error:null,msg:null,requestMessage:""}},created(){this.fetchBooks()},methods:{async fetchBooks(){try{const e=await q.A.get("https://booknest-m2z6.onrender.com/api/books/",{withCredentials:!0});console.log(e.data),this.books=e.data.res,this.message=e.data.message,this.msg=e.data.msg}catch(e){e.response?(console.log(e.response.data.msg),this.error=e.response.data.msg):this.error="An error occurred while fetching books"}},async requestBook(e){try{const t=await q.A.get(`https://booknest-m2z6.onrender.com/api/requests/new/${e}`,{withCredentials:!0});console.log(t.data),this.requestMessage=t.data.message,alert(this.requestMessage)}catch(t){t.response?this.requestMessage=t.response.data.message:this.requestMessage="An error occurred while requesting the book",alert(this.requestMessage)}}}};const ea=(0,a.A)(Zr,[["render",Yr]]);var ta=ea,sa={name:"HomeView",components:{SideBar:ie,NavBar:fe,HomeCard:ta}};const oa=(0,a.A)(sa,[["render",Wr]]);var na=oa;const ra={class:"homeView"};function aa(e,t,s,o,r,a){const i=(0,n.g2)("NavBar"),l=(0,n.g2)("SideBar"),c=(0,n.g2)("SectionOfBooks");return(0,n.uX)(),(0,n.CE)("div",ra,[(0,n.bF)(i),(0,n.bF)(l),(0,n.bF)(c)])}const ia={class:"sections-container"},la={key:0,class:"error"},ca=(0,n.Lk)("a",{href:"/"}," Login ",-1),da={key:1,class:"delete-section"},ua={key:2,class:"error"},ha={key:3},ma=(0,n.Lk)("h2",{id:"heading"},"All Sections",-1),ka={class:"sections"};function pa(e,t,s,o,r,a){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",ia,[r.error?((0,n.uX)(),(0,n.CE)("h4",la,[(0,n.eW)((0,p.v_)(r.error)+" ",1),ca,(0,n.eW)(" to Continue ")])):(0,n.Q3)("",!0),r.message?((0,n.uX)(),(0,n.CE)("h4",da," Section Deleted Successfully ")):(0,n.Q3)("",!0),0==r.sections.length?((0,n.uX)(),(0,n.CE)("h4",ua,"Loading...")):((0,n.uX)(),(0,n.CE)("div",ha,[ma,(0,n.Lk)("div",ka,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.sections,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"section-card"},[(0,n.Lk)("h3",null,(0,p.v_)(e.name),1),(0,n.Lk)("p",null,(0,p.v_)(e.description),1)])))),128))])]))])])}var ga={name:"SectionOfBooks",data(){return{sections:[],message:"",error:""}},created(){this.fetchSections()},methods:{async fetchSections(){try{const e=await q.A.get("https://booknest-m2z6.onrender.com/api/sections",{withCredentials:!0});this.sections=e.data.res}catch(e){this.error=e.response?e.response.data.msg:"An error occurred while fetching sections"}}}};const ba=(0,a.A)(ga,[["render",pa]]);var va=ba,La={name:"BookSection",components:{SideBar:ie,NavBar:fe,SectionOfBooks:va}};const fa=(0,a.A)(La,[["render",aa]]);var ya=fa;const Aa={class:"homeView"};function Ca(e,t,s,o,r,a){const i=(0,n.g2)("AdminNav"),l=(0,n.g2)("AdminSideBar"),c=(0,n.g2)("RequestGranted");return(0,n.uX)(),(0,n.CE)("div",Aa,[(0,n.bF)(i),(0,n.bF)(l),(0,n.bF)(c)])}const wa={key:0,class:"error"},qa=(0,n.Lk)("a",{href:"/admin-login"}," Login ",-1),Ea={key:1,class:"error"},Ba={key:2},Sa={key:0,class:"requests-list-block"},Xa=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Request ID"),(0,n.Lk)("th",null,"Name"),(0,n.Lk)("th",null,"Book ID"),(0,n.Lk)("th",null,"Status")])],-1),Ra=["onClick"],Fa={key:1},_a={key:3,class:"error"};function Ua(e,t,s,o,r,a){return(0,n.uX)(),(0,n.CE)("div",null,[r.msg?((0,n.uX)(),(0,n.CE)("h4",wa,[(0,n.eW)((0,p.v_)(r.msg),1),qa,(0,n.eW)(" as Admin to Continue ")])):(0,n.Q3)("",!0),r.error?((0,n.uX)(),(0,n.CE)("h4",Ea,(0,p.v_)(r.error),1)):(0,n.Q3)("",!0),r.requests.length?((0,n.uX)(),(0,n.CE)("div",Ba,[r.requests.length?((0,n.uX)(),(0,n.CE)("div",Sa,[(0,n.Lk)("h2",null,(0,p.v_)(r.message),1),(0,n.Lk)("table",null,[Xa,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.requests,(e=>((0,n.uX)(),(0,n.CE)("tbody",{key:e.id},[(0,n.Lk)("td",null,(0,p.v_)(e.id),1),(0,n.Lk)("td",null,(0,p.v_)(e.username),1),(0,n.Lk)("td",null,(0,p.v_)(e.book_id),1),(0,n.Lk)("td",null,(0,p.v_)(e.status),1),(0,n.Lk)("td",null,[(0,n.Lk)("button",{class:"btn",onClick:t=>a.deleteRequest(e.id)}," Revoke ",8,Ra)])])))),128))])])):((0,n.uX)(),(0,n.CE)("h4",Fa,"No requests found"))])):((0,n.uX)(),(0,n.CE)("div",_a))])}var xa={name:"RequestGranted",data(){return{requests:[],error:null,message:"",msg:""}},created(){this.fetchGrantedRequests()},methods:{async fetchGrantedRequests(){try{const e=await q.A.get("https://booknest-m2z6.onrender.com/api/requests/get-granted-requests",{withCredentials:!0});this.requests=e.data.res,this.message=e.data.message}catch(e){e.response?"Token has expired"===e.response.data.msg?this.msg=e.response.data.msg:this.error=e.response.data.msg:this.error="An error occurred while fetching requests"}},async deleteRequest(e){try{const t=await q.A.delete(`https://booknest-m2z6.onrender.com/api/requests/delete/${e}`,{withCredentials:!0});this.message=t.data.message,this.fetchGrantedRequests()}catch(t){t.response?this.error=t.response.data.error:this.error="An error occurred while updating the request"}}}};const Da=(0,a.A)(xa,[["render",Ua]]);var Na=Da,Va={name:"AcceptedRequest",components:{AdminNav:ds,AdminSideBar:os,RequestGranted:Na}};const Qa=(0,a.A)(Va,[["render",Ca]]);var Ma=Qa;const za={class:"homeView"},Pa={class:"search-results"},Wa=(0,n.Lk)("h2",null,"Search Results",-1),Ia={key:0,class:"error"},Ta={key:1},Ja={key:0,class:"book-section-block"},$a=(0,n.Lk)("h2",{style:{color:"#fff"}},"Books by Search Result",-1),Ka={class:"book-section"},ja=(0,n.Lk)("div",{class:"img"},"img",-1),Oa={class:"book-detail"},Ha=["onClick"],Ga={key:2},Ya=(0,n.Lk)("p",{class:"bnf"},"No books found.",-1),Za=[Ya];function ei(e,t,s,o,r,a){const i=(0,n.g2)("NavBar"),l=(0,n.g2)("SideBar");return(0,n.uX)(),(0,n.CE)("div",za,[(0,n.bF)(i),(0,n.bF)(l),(0,n.Lk)("div",Pa,[Wa,r.error?((0,n.uX)(),(0,n.CE)("div",Ia,(0,p.v_)(r.error),1)):(0,n.Q3)("",!0),r.books.length?((0,n.uX)(),(0,n.CE)("div",Ta,[r.books?((0,n.uX)(),(0,n.CE)("div",Ja,[$a,(0,n.Lk)("div",Ka,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.books,(e=>((0,n.uX)(),(0,n.CE)("div",{class:"books",key:e.id},[ja,(0,n.Lk)("div",Oa,[(0,n.Lk)("h3",null,"Title : "+(0,p.v_)(e.title),1),(0,n.Lk)("h3",null,"Author : "+(0,p.v_)(e.author),1),(0,n.Lk)("button",{type:"button",class:"button-6",onClick:t=>a.requestBook(e.id)}," Request ",8,Ha)])])))),128))])])):(0,n.Q3)("",!0)])):((0,n.uX)(),(0,n.CE)("div",Ga,Za))])])}var ti={name:"SearchResult",components:{SideBar:ie,NavBar:fe},data(){return{books:[],error:null,requestMessage:""}},created(){this.searchBooks()},watch:{"$route.query":"searchBooks"},methods:{async searchBooks(){const e=this.$route.query;try{const t=await q.A.post("https://booknest-m2z6.onrender.com/api/books/search",e,{withCredentials:!0});this.books=t.data.res}catch(t){this.error=t.response?t.response.data.msg:"An error occurred while searching books"}},async requestBook(e){try{const t=await q.A.get(`https://booknest-m2z6.onrender.com/api/requests/new/${e}`,{withCredentials:!0});console.log(t.data),this.requestMessage=t.data.message,alert(this.requestMessage)}catch(t){t.response?this.requestMessage=t.response.data.message:this.requestMessage="An error occurred while requesting the book",alert(this.requestMessage)}}}};const si=(0,a.A)(ti,[["render",ei]]);var oi=si;const ni={class:"homeView"};function ri(e,t,s,o,r,a){const i=(0,n.g2)("NavBar"),l=(0,n.g2)("SideBar"),c=(0,n.g2)("UserPage");return(0,n.uX)(),(0,n.CE)("div",ni,[(0,n.bF)(i),(0,n.bF)(l),(0,n.bF)(c)])}const ai=e=>((0,n.Qi)("data-v-10afebe4"),e=e(),(0,n.jt)(),e),ii={class:"user-page"},li=ai((()=>(0,n.Lk)("h1",null,"User Details",-1))),ci={key:0,class:"user-details"},di=ai((()=>(0,n.Lk)("strong",null,"Username:",-1))),ui=ai((()=>(0,n.Lk)("strong",null,"Email:",-1))),hi={key:1},mi=ai((()=>(0,n.Lk)("p",null,"Loading user details...",-1))),ki=[mi],pi=ai((()=>(0,n.Lk)("h2",null,"Book Request Details",-1))),gi={key:2,class:"cards"},bi={class:"card"},vi=ai((()=>(0,n.Lk)("p",null,[(0,n.Lk)("strong",null,"Total Requests:")],-1))),Li={class:"number"},fi={class:"card"},yi=ai((()=>(0,n.Lk)("p",null,[(0,n.Lk)("strong",null,"Pending Requests:")],-1))),Ai={class:"number"},Ci={class:"card"},wi=ai((()=>(0,n.Lk)("p",null,[(0,n.Lk)("strong",null,"Accepted Requests:")],-1))),qi={class:"number"},Ei={class:"card"},Bi=ai((()=>(0,n.Lk)("p",null,[(0,n.Lk)("strong",null,"Rejected Requests:")],-1))),Si={class:"number"},Xi={key:3},Ri=ai((()=>(0,n.Lk)("p",null,"Loading request details...",-1))),Fi=[Ri];function _i(e,t,s,o,r,a){return(0,n.uX)(),(0,n.CE)("div",ii,[li,r.user?((0,n.uX)(),(0,n.CE)("div",ci,[(0,n.Lk)("h2",null,[di,(0,n.eW)(" "+(0,p.v_)(r.user.username),1)]),(0,n.Lk)("h2",null,[ui,(0,n.eW)(" "+(0,p.v_)(r.user.email),1)])])):((0,n.uX)(),(0,n.CE)("div",hi,ki)),pi,r.requests?((0,n.uX)(),(0,n.CE)("div",gi,[(0,n.Lk)("div",bi,[vi,(0,n.Lk)("p",Li,(0,p.v_)(r.requests.total_request),1)]),(0,n.Lk)("div",fi,[yi,(0,n.Lk)("p",Ai,(0,p.v_)(r.requests.pending_request),1)]),(0,n.Lk)("div",Ci,[wi,(0,n.Lk)("p",qi,(0,p.v_)(r.requests.accepted_request),1)]),(0,n.Lk)("div",Ei,[Bi,(0,n.Lk)("p",Si,(0,p.v_)(r.requests.rejected_request),1)])])):((0,n.uX)(),(0,n.CE)("div",Xi,Fi))])}var Ui={name:"UserPage",data(){return{user:null,requests:null,error:null}},created(){this.fetchUserDetails(),this.fetchUserRequests()},methods:{async fetchUserDetails(){try{const e=await q.A.get("https://booknest-m2z6.onrender.com/api/users/details",{withCredentials:!0});this.user=e.data.res}catch(e){console.error("Error fetching user details:",e),this.error="Failed to load user details.",alert(this.error)}},async fetchUserRequests(){try{const e=await q.A.get("http://localhost:5000/api/requests/user-request-details",{withCredentials:!0});this.requests=e.data.result}catch(e){console.error("Error fetching user requests:",e),this.error="Failed to load request details."}}}};const xi=(0,a.A)(Ui,[["render",_i],["__scopeId","data-v-10afebe4"]]);var Di=xi,Ni={name:"UserDetails",components:{SideBar:ie,NavBar:fe,UserPage:Di}};const Vi=(0,a.A)(Ni,[["render",ri]]);var Qi=Vi;const Mi=[{path:"/",name:"login",component:F},{path:"/search-results",name:"searchResult",component:oi},{path:"/admin-login",name:"adminlogin",component:$t},{path:"/admin-home",name:"adminhome",component:Ps},{path:"/register",name:"register",component:O},{path:"/my-books",name:"myBooks",component:xe},{path:"/home",name:"homeView",component:na},{path:"/user-details",name:"userDetails",component:Qi},{path:"/sections",name:"bookSections",component:ya},{path:"/books/:id",name:"bookDetails",component:ut,props:!0},{path:"/user-requests",name:"userRequests",component:St},{path:"/admin/sections",name:"sectionView",component:uo},{path:"/add-section",name:"addSection",component:Fo},{path:"/add-book",name:"addBook",component:Cn},{path:"/admin/books",name:"allBooks",component:On},{path:"/admin/pending-requests",name:"pendingRequests",component:zr},{path:"/admin/accepted-requests",name:"acceptedRequests",component:Ma},{path:"/update-section/:id",name:"updateSection",component:Ho,props:!0},{path:"/update-book/:id",name:"updateBook",component:Lr,props:!0}],zi=(0,d.aE)({history:(0,d.LA)("/"),routes:Mi});var Pi=zi;(0,o.Ef)(c).use(Pi).mount("#app")}},t={};function s(o){var n=t[o];if(void 0!==n)return n.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,o,n,r){if(!o){var a=1/0;for(d=0;d<e.length;d++){o=e[d][0],n=e[d][1],r=e[d][2];for(var i=!0,l=0;l<o.length;l++)(!1&r||a>=r)&&Object.keys(s.O).every((function(e){return s.O[e](o[l])}))?o.splice(l--,1):(i=!1,r<a&&(a=r));if(i){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,n,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,r,a=o[0],i=o[1],l=o[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(n in i)s.o(i,n)&&(s.m[n]=i[n]);if(l)var d=l(s)}for(t&&t(o);c<a.length;c++)r=a[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(d)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[504],(function(){return s(4469)}));o=s.O(o)})();
//# sourceMappingURL=app.9410eaab.js.map